<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Aggiungi Pizza</title>
<link rel="stylesheet"
	th:href="@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}" />
	<link rel="stylesheet"
	th:href="@{/css/main.css}" />
</head>
<body class="vs-bg-custom vs-fixed-height-100 text-white">
<div th:replace="~{fragments :: navbar}"></div>
	<div class="container my-5 py-5">
		<h1 class="mb-4 text-center vs-form-padding">Aggiungi una nuova pizza</h1>
		<form th:action="@{/pizzas/new-pizza}" th:object="${pizza}"
			method="post">
			<ul>
				<li th:each="err : ${#fields.allErrors()}" th:text="${err}"
					class="text-danger"></li>
			</ul>
			<div class="form-group">
				<label for="name">Nome</label> <input type="text"
					class="form-control mt-2" id="name" name="name"
					placeholder="Inserisci il nome della pizza" th:field="*{name}"
					th:errorClass="is-invalid">
				<div th:if="${#fields.hasErrors('name')}" class="invalid-feedback">
					<ul>
						<li th:each="err : ${#fields.errors('name')}" th:text="${err}"></li>
					</ul>
				</div>
			</div>
			<div class="form-group mt-3">
				<label for="description">Descrizione</label>
				<textarea class="form-control" id="description" name="description"
					placeholder="Inserisci la descrizione della pizza"
					th:field="*{description}"></textarea>
			</div>
			<div class="form-group mt-3">
				<label for="imgURL">URL dell'immagine</label> <input type="text"
					class="form-control" id="imgURL" name="imgURL"
					placeholder="Inserisci l'URL dell'immagine della pizza"
					th:field="*{imgURL}">
			</div>
			<div class="form-group mt-3">
				<label for="price">Prezzo</label> <input type="text"
					class="form-control" id="price" name="price"
					placeholder="Inserisci il prezzo della pizza" th:field="*{price}"
					th:errorClass="is-invalid">
				<div th:if="${#fields.hasErrors('price')}" class="invalid-feedback">
					<ul>
						<li th:each="err : ${#fields.errors('price')}" th:text="${err}"></li>
					</ul>
				</div>
			</div>
			
			<div class="col-12 row mt-4">
	  			<h3 class="col-12">Ingredienti</h3>
	  			<div th:each="ingredient : ${ingredients}" class="form-check col-2 ms-3">
	  				<input type="checkbox" class="form-check-input" 
	  					th:value="${ingredient.id}" th:field="*{ingredients}"
	  					th:id="|ingredient_${ingredient.id}">
	  				<label class="form-check-label" 
	  				th:text="${ingredient.title}" th:for="|ingredient_${ingredient.id}"></label>
	  			</div>
	  		</div>
			
			<div>
				<button type="submit" class="btn btn-success mt-3">Aggiungi
					pizza</button>
			</div>
			<div th:replace="~{fragments :: back}"></div>
		</form>
	</div>
	<script th:src="@{/webjars/bootstrap/5.2.3/js/bootstrap.min.js}"></script>

</body>
</html>
